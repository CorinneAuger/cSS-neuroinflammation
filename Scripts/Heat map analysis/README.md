# Heat map analysis
Generates a heat map of object quantities in 500um * 500 um pixels for each stained section

## Input
- Image sizes spreadsheet (ex. "Aiforia_image_sizes_CD68.xlsx")
	- Make this spreadsheet manually.
		- Column A: "Brain/block"/name of slide (ex. "CAA1_1")
		- Column B: "Width"
			- Info is in "Images" folder for the stain on Aiforia, in list view. Unit: px.
		- Column C: "Height"
			- Info is in "Images" folder for the stain on Aiforia, in list view. Unit: px.
		- Column D: "Rotation" to match iron slide
			- 0: none
			- 1: 180° rotation
			- 2: 90° rotation counterclockwise
		- Column E: "Excluded"
			- 0: included
			- 1: excluded because of problems with coregistration
			- 2: ICH
- Original slide images downloaded from Aiforia
- Screenshots of Aiforia's tissue detection for each section: capture the whole slide and nothing more. Have tissue identification visible (tissue should be green) and object identification invisible. (title ex. "CAA1_1_Iron_tissue.png")
- Full IA details output spreadsheet for each section (download from Aiforia). All stains can go in the same folder.
- Mask documentation: struct generated by getting the contents of the whole density_comparison output figure folder and adding an extra column called "Mask." For each slide, manually fill in the stain that generated the best mask in density_comparison.m. The default should be the stain itself, but sometimes unusually colored tissue causes inconsistencies.
- Directories
	- Scripts folders
		- Heat map analysis
		- Inflammation vs. iron analysis
	- Original slide images
	- Image sizes spreadsheets
	- Tissue screenshots
	- Mask documentation
	- Save 
		- For density_comparison.m and one_pixel_density_comparison.m:
			- All variables
			- Crucial variables
			- Figures
			- ICH sections
				- All variables
				- Crucial variables
				- Figures
	

## Output
- In separate non-ICH and ICH folders, for each section…
	- Variables from first step (density_comparison.m). Can delete these when finished.
	- Variables from final step as a file of all variables and another of crucial variables
	- Figure from final step

## For complete analysis
1. Run density_comparison.m for each inflammatory marker (get heat maps that under-count objects close together)
2. Run one_pixel_density_comparison.m for each inflammatory marker (get final heat maps)
